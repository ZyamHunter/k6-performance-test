{
  "scenarios": {
    "spike_test_optimized": {
      "executor": "ramping-vus",
      "stages": [
        { "duration": "1m", "target": 10 },
        { "duration": "2m", "target": 40 },
        { "duration": "30s", "target": 200 },
        { "duration": "3m", "target": 200 },
        { "duration": "30s", "target": 40 },
        { "duration": "2m", "target": 10 },
        { "duration": "1m", "target": 0 }
      ],
      "gracefulRampDown": "1m",
      "env": {
        "TEST_TYPE": "spike",
        "THINK_TIME_SPIKE": "0.5"
      }
    }
  },
  "thresholds": {
    "http_req_duration": ["p(90)<3000", "p(95)<5000"],
    "http_req_failed": ["rate<0.10"],
    "purchase_success": ["rate>0.90"],
    "errors": ["rate<0.10"],
    "http_reqs": ["rate>150"]
  },
  "summaryTrendStats": ["avg", "min", "med", "max", "p(90)", "p(95)", "p(99)", "p(99.99)"],
  "noConnectionReuse": false,
  "userAgent": "K6-BlazeDemoSpikeOptimized/1.0",
  "ext": {
    "loadimpact": {
      "name": "BlazDemo - OPTIMIZED Spike Test",
      "note": "Teste de pico otimizado para validar comportamento em alta carga"
    }
  }
}